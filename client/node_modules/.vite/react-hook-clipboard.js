import {
  require_react
} from "./chunk-EVYTSKPG.js";
import {
  __toModule
} from "./chunk-XJRAAFMK.js";

// node_modules/react-hook-clipboard/dist/index.js
var import_react = __toModule(require_react());
var useClipboard = ({
  updateFrequency = 1e3
} = {}, onReadError = () => {
}) => {
  const [clipboard, setClipboardContent] = (0, import_react.useState)("");
  const copyToClipboard = (clipboardContent, onCopyToClipboard = () => {
  }, onWriteError = () => {
  }) => {
    if (navigator.permissions && navigator.clipboard) {
      navigator.permissions.query({
        name: "clipboard-write"
      }).then(({
        state
      }) => {
        if (["granted", "prompt"].includes(state)) {
          navigator.clipboard.writeText(clipboardContent).then(() => {
            setClipboardContent(clipboardContent);
            onCopyToClipboard(clipboardContent);
          }, onWriteError);
        } else {
          onWriteError({
            message: "ClipboardWrite permission has been blocked as the user."
          });
        }
      });
    }
  };
  (0, import_react.useEffect)(() => {
    let readClipboardIntervalId;
    if (navigator.permissions && navigator.clipboard) {
      navigator.permissions.query({
        name: "clipboard-read"
      }).then(({
        state
      }) => {
        if (["granted", "prompt"].includes(state)) {
          readClipboardIntervalId = setInterval(() => {
            navigator.clipboard.readText().then((clipboardContent) => {
              setClipboardContent(clipboardContent);
            }, onReadError);
          }, updateFrequency);
        } else {
          onReadError({
            message: "ClipboardRead permission has been blocked as the user."
          });
        }
      });
    }
    return () => {
      if (navigator.clipboard) {
        clearInterval(readClipboardIntervalId);
      }
    };
  }, []);
  return [clipboard, copyToClipboard];
};
var dist_default = useClipboard;

// dep:react-hook-clipboard
var react_hook_clipboard_default = dist_default;
export {
  react_hook_clipboard_default as default
};
//# sourceMappingURL=react-hook-clipboard.js.map
